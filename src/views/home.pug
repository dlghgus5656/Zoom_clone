//- 코드 챌린지
//- CSS 개선
//- 데이터 채널을 사용하여 채팅하기
//- 피어가 방을 나갈 때 스트림을 제거합니다.
//- https://nomadcoders.co/noom/lectures/3109


doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        title Hoom
        <link rel="stylesheet" href="https://unpkg.com/mvp.css">
    body
    
        header
            h1 Hoom
        main
            //- div#room
            //-     h3
            //-     ul
            //-     form#name
            //-         input(placeholder="nickname", required, type="text")
            //-         button Save
            //-     form#msg
            //-         input(placeholder="message", required, type="text")
            //-         button Send
            div#welcome
                form
                    input(placeholder="room name", required, type="text")
                    button Enter Room
                h4 방 목록:
                ul
            div#call
                //- playsinline를 사용하면 모바일 환경에서 영상이 전체화면으로 변하는것을 막아준다.
                div#myStream    
                    video#myFace(autoplay, playsinline, width="400", height="400")
                    button#mute 음소거
                    button#camera 카메라 끄기
                    select#cameras
                    video#peerFace(autoplay, playsinline, width="400", height="400")
            
            
            //- webSocket로 한 부분
            //- form#name
            //-     input(type="text", placeholder="Choose a nickname", required)
            //-     button Save
            //- ul 
            //- form#message
            //-     input(type="text", placeholder="write a msg", required)
            //-     button Send
        script(src="/socket.io/socket.io.js")      
        script(src="/public/js/app.js")  